const e="latest/en/plugins/security/request-block.md",n="docs",o="latest/en/plugins/security/request-block",t="## Function Description\nThe `request-block` plugin implements HTTP request blocking based on features such as URL, request headers, etc. It can be used to protect certain site resources from being exposed to the outside.\n\n## Running Attributes\nPlugin Execution Stage: `Authentication Stage`\n\nPlugin Execution Priority: `320`\n\n## Configuration Fields\n| Name              | Data Type       | Filling Requirement                                                                                                             | Default Value | Description                                                                                 |\n| ----------------- | --------------- | -------------------------------------------------------------------------------------------------------------------             | ------------- | ------------------------------------------------                                            |\n| block_urls        | array of string | Optional, at least one of `block_urls`, `block_exact_urls`, `block_regexp_urls`, `block_headers`, `block_bodies` must be filled | -             | Configure strings for matching URLs to be blocked                                           |\n| block_exact_urls  | array of string | Optional, at least one of `block_urls`, `block_exact_urls`, `block_regexp_urls`, `block_headers`, `block_bodies` must be filled | -             | Configure strings for exactly matching URLs to be blocked                                   |\n| block_regexp_urls | array of string | Optional, at least one of `block_urls`, `block_exact_urls`, `block_regexp_urls`, `block_headers`, `block_bodies` must be filled | -             | Configure regular expressions for matching URLs to be blocked                               |\n| block_headers     | array of string | Optional, at least one of `block_urls`, `block_exact_urls`, `block_regexp_urls`, `block_headers`, `block_bodies` must be filled | -             | Configure strings for matching request headers to be blocked                                |\n| block_bodies      | array of string | Optional, at least one of `block_urls`, `block_exact_urls`, `block_regexp_urls`, `block_headers`, `block_bodies` must be filled | -             | Configure strings for matching request bodies to be blocked                                 |\n| blocked_code      | number          | Optional                                                                                                                        | 403           | Configure the HTTP status code to return when a request is blocked                          |\n| blocked_message   | string          | Optional                                                                                                                        | -             | Configure the HTTP response body to return when a request is blocked                        |\n| case_sensitive    | bool            | Optional                                                                                                                        | true          | Configure whether case sensitivity is considered during matching, default is case-sensitive |\n\n## Configuration Example\n### Blocking Request URL Paths\n```yaml\nblock_urls:\n- swagger.html\n- foo=bar\ncase_sensitive: false\n```\n\nBased on this configuration, the following requests will be denied access:\n```bash\ncurl http://example.com?foo=Bar\ncurl http://exmaple.com/Swagger.html\n```\n\n### Block requests with exact URL path matches\n\n```yaml\nblock_exact_urls:\n- /swagger.html?foo=bar\ncase_sensitive: false\n```\n\nBased on this configuration, the following request will be blocked:\n\n```bash\ncurl http://exmaple.com/Swagger.html?foo=Bar\n```\n\n### Block requests with URL path regex matches\n\n```yaml\nblock_exact_urls:\n- .*swagger.*\ncase_sensitive: false\n```\n\nBased on this configuration, the following request will be blocked:\n\n```bash\ncurl http://exmaple.com/Swagger.html?foo=Bar\n```\n\n### Blocking Request Headers\n```yaml\nblock_headers:\n- example-key\n- example-value\n```\n\nBased on this configuration, the following requests will be denied access:\n```bash\ncurl http://example.com -H 'example-key: 123'\ncurl http://exmaple.com -H 'my-header: example-value'\n```\n\n### Blocking Request Bodies\n```yaml\nblock_bodies:\n- \"hello world\"\ncase_sensitive: false\n```\n\nBased on this configuration, the following requests will be denied access:\n```bash\ncurl http://example.com -d 'Hello World'\ncurl http://exmaple.com -d 'hello world'\n```\n\n## Request Body Size Limit\nWhen `block_bodies` is configured, only request bodies smaller than 32 MB are supported for matching. If the request body exceeds this limit and there are no matching `block_urls` or `block_headers`, the blocking operation will not be executed for that request.\n\nWhen `block_bodies` is configured and the request body exceeds the global configuration DownstreamConnectionBufferLimits, it will return `413 Payload Too Large`.\n",s={title:"Request Blocking",description:"Request blocking plugin configuration reference",editUrl:!0,head:[],template:"doc",sidebar:{hidden:!1,attrs:{}},pagefind:!0,keywords:["higress","request block"]},l={type:"content",filePath:"/home/runner/work/higress-group.github.io/higress-group.github.io/src/content/docs/latest/en/plugins/security/request-block.md",rawData:void 0};export{l as _internal,t as body,n as collection,s as data,e as id,o as slug};
